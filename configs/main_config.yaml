
global:
  my_color: "Red" # "Blue"
  is_debug: True # False
  scene: "competition"  # "competition" = 赛场（28x15m）| "lab" = 实验室测试

# 场景配置：不同场景使用不同的地图和点云文件
# 切换场景只需修改 global.scene，无需替换文件
scenes:
  competition:
    std_map: "map/std_map.png"              # 方案二display_panel 底图
    pfa_map: "map/pfa_map_2025.jpg"         # 方案一透视标定用地图（通用）
    pfa_map_red: "map/pfa_map_red_2025.jpg"   # 红方视角地图（标定/小地图用）
    pfa_map_blue: "map/pfa_map_blue_2025.jpg" # 蓝方视角地图（标定/小地图用）
    pcd_file: "data/pcds.pcd"               # 点云地图
    downsampled_pcd: "data/pcds_downsampled.pcd"
    field_width: 28.0                       # 赛场宽度(m)
    field_height: 15.0                      # 赛场高度(m)
  lab:
    std_map: "map/lab_map_28x15.png"        # 实验室 display_panel 底图（裁剪后2800×1500）
    std_map_grid: "map/lab_map_28x15_grid.png"  # 带坐标网格的版本（调试用）
    pfa_map: "map/lab_map_28x15.png"        # 实验室透视标定用地图
    pcd_file: "data/lab_pcds.pcd"           # 实验室点云地图
    downsampled_pcd: "data/lab_pcds_downsampled.pcd"  # 实验室降采样点云地图
    field_width: 28.0                       # 由标定工具自动更新
    field_height: 15.0                      # 由标定工具自动更新

# 相机输入配置（仅用于纯相机透视变换方案 camera_detector）
camera:
  mode: "test"               # "test": 测试模式(静态图片) | "video": USB摄像头/视频文件 | "hik": 海康工业相机
  video_source: 0             # video 模式下的输入源：0=USB摄像头, 或视频文件路径如 "/path/to/video.mp4"
  test_image: "test_resources/red1.png"  # test 模式下使用的图片路径（相对于项目根目录）


car:
  life_span: 20 # 20帧若未刷新则认为不可信

lidar:
  height_threshold: 5.5 # 还没有量，激光雷达如果点比负1.4小，则认为在地面，不要
  min_distance: 1 # 去除距离在这个范围以内的接收点云
  max_distance: 40 # 去除距离在这个范围以外的接收点云
  lidar_topic_name: "/livox/lidar" # 点云发布话题名字

communication:
  port: '/dev/ttyUSB0' # 串口
  bps: 115200 # 波特率
  timex: 0.01 # 超时时间


area: # 每一个area是一个列表，元素为点的二元组，表示一个凹多边形 , 从左上角逆时针 , 赛场是对称的，红方左下为原点0，0，蓝方右上为28，15
  hero_times_threshold: 2 # 连续2帧检测到英雄才认为英雄在这个区域
  send_double_threshold: 10 # 连续10帧检测到英雄启动双倍易伤
  Blue: # 我方为蓝色时
    length: 5 # 5个区域
    area0:
      - [12.05, 15.0]
      - [12.05, 14.30]
      - [13.68, 12.85]
      - [15.02, 14.27]
      - [15.02, 15.0] # 红方英雄下台阶
    area1:
      - [13.68, 12.85]
      - [16.0, 10.0]
      - [18.0, 10.8]
      - [15.02, 14.27] # 红方英雄从台阶到上坡路段
    area2:
      - [16.0, 10.0]
      - [17.6, 8.0]
      - [19.63, 8.66]
      - [18.0, 10.8] # 红方英雄上坡路段
    area3:
      - [17.6, 8.0]
      - [17.6, 6.72]
      - [19.72, 6.01]
      - [19.63, 8.66] # 红方英雄在环高上
    area4:
      - [17.6, 6.72]
      - [15.10, 4.71]
      - [17.82, 3.65]
      - [19.72, 6.01] # 红方英雄在环高下半部分
  Red: # 我方为红色时
    length: 5 # 5个区域
    area0:
      - [13.36, 1.54]
      - [13.36, 0.0]
      - [16.48, 0.0]
      - [16.48, 1.60]
      - [14.96, 2.73] # 蓝方英雄下台阶
    area1:
      - [10.44, 4.91]
      - [13.36, 1.54]
      - [14.96, 2.73]
      - [12.45, 5.73] # 蓝方英雄从台阶到上坡路段
    area2:
      - [8.75, 7.18]
      - [10.44, 4.91]
      - [12.45, 5.73]
      - [10.94, 7.79] # 蓝方英雄上坡路段
    area3:
      - [8.75, 9.71]
      - [8.75, 7.18]
      - [10.94, 7.79]
      - [10.94, 9.04] # 蓝方英雄在环高上
    area4:
      - [10.76, 12.23]
      - [8.75, 9.71]
      - [10.94, 9.04]
      - [12.23, 11.13] # 蓝方英雄在环高下半部分
